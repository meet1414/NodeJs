<%- include("header") %>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Blog Cards</title>
        <style>
            :root {
                --primary-color: #4361ee;
                --primary-hover: #3a56d4;
                --text-color: #2b2d42;
                --text-light: #6c757d;
                --light-gray: #f8f9fa;
                --white: #ffffff;
                --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                --shadow-hover: 0 10px 15px rgba(0, 0, 0, 0.1);
                --border-radius: 12px;
                --transition: all 0.3s ease;
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Inter', sans-serif;
                line-height: 1.6;
                color: var(--text-color);
                background-color: var(--light-gray);
                padding-bottom: 2rem;
            }

            .container {
                width: 100%;
                padding: 0 1.5rem;
                margin: 0 auto;
                margin-left: 300px;
            }

            .page-header {
                text-align: center;
                margin: 3rem 0;
            }

            .page-header h1 {
                font-size: 2.5rem;
                margin-bottom: 1rem;
                color: var(--text-color);
                font-weight: 700;
            }

            .page-header p {
                color: var(--text-light);
                font-size: 1.1rem;
                max-width: 700px;
                margin: 0 auto;
            }

            .category-filter {
                display: flex;
                justify-content: center;
                flex-wrap: wrap;
                gap: 1rem;
                margin-bottom: 2rem;
            }

            .category-btn {
                padding: 0.75rem 1.5rem;
                border-radius: 20px;
                background-color: var(--white);
                color: var(--text-color);
                border: 1px solid #dee2e6;
                cursor: pointer;
                transition: var(--transition);
                font-weight: 500;
                font-size: 1rem;
            }

            .category-btn:hover {
                background-color: #f1f3ff;
                border-color: var(--primary-color);
                color: var(--primary-color);
            }

            .category-btn.active {
                background-color: var(--primary-color);
                color: var(--white);
                border-color: var(--primary-color);
            }

            .grid-container {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 2rem;
                padding: 1rem 0;
                justify-items: center;
            }

            .card {
                background: var(--white);
                border-radius: var(--border-radius);
                overflow: hidden;
                box-shadow: var(--shadow);
                transition: var(--transition);
                height: 100%;
                display: flex;
                flex-direction: column;
            }

            .card:hover {
                transform: translateY(-8px);
                box-shadow: var(--shadow-hover);
            }

            .card-img-container {
                height: 200px;
                overflow: hidden;
                position: relative;
            }

            .card-img-top {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: var(--transition);
            }

            .card:hover .card-img-top {
                transform: scale(1.05);
            }

            .card-body {
                padding: 1.75rem;
                display: flex;
                flex-direction: column;
                flex-grow: 1;
            }

            .card-title {
                font-weight: 700;
                margin-bottom: 1rem;
                font-size: 1.375rem;
                line-height: 1.3;
                color: var(--text-color);
            }

            .card-text {
                color: var(--text-light);
                margin-bottom: 1.75rem;
                flex-grow: 1;
                font-size: 0.95rem;
                display: -webkit-box;
                -webkit-line-clamp: 4;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .card-category {
                display: inline-block;
                padding: 0.25rem 0.75rem;
                background-color: #f1f3ff;
                color: var(--primary-color);
                border-radius: 20px;
                font-size: 0.75rem;
                font-weight: 600;
                margin-bottom: 0.75rem;
                align-self: flex-start;
            }

            .card-footer {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding-top: 1rem;
                border-top: 1px solid rgba(0, 0, 0, 0.05);
            }

            .btn {
                display: inline-block;
                padding: 0.6rem 1.25rem;
                border-radius: 6px;
                text-decoration: none;
                font-weight: 500;
                font-size: 0.95rem;
                cursor: pointer;
                transition: var(--transition);
            }

            .btn-primary {
                background-color: var(--primary-color);
                color: var(--white);
            }

            .btn-primary:hover {
                background-color: var(--primary-hover);
                transform: translateY(-2px);
            }

            .read-time {
                color: var(--text-light);
                font-size: 0.85rem;
                display: flex;
                align-items: center;
            }

            .read-time svg {
                width: 16px;
                height: 16px;
                margin-right: 0.25rem;
                fill: var(--text-light);
            }

            @media (max-width: 768px) {
                .grid-container {
                    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                    gap: 1.5rem;
                }

                .card-body {
                    padding: 1.5rem;
                }
            }

            @media (max-width: 576px) {
                .page-header h1 {
                    font-size: 2rem;
                }

                .grid-container {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="page-header">
                <h1>üìö Our Blog Collection</h1>
                <p>‚ú® Discover insightful articles across various categories</p>
            </div>

            <div class="category-filter">
                <button class="category-btn active" data-category="all">All</button>
                <button class="category-btn" data-category="food-blogs">üçΩÔ∏è Food</button>
                <button class="category-btn" data-category="travel-blogs">‚úàÔ∏è Travel</button>
                <button class="category-btn" data-category="book-writing-blogs">‚úçÔ∏è Writing</button>
                <button class="category-btn" data-category="book-blogs">üìñ Books</button>
                <button class="category-btn" data-category="gaming-blogs">üéÆ Gaming</button>
            </div>

            <div class="grid-container">
                <% blog.map((blogs)=> { %>
                    <article class="card" data-category="<%= blogs.category %>">
                        <div class="card-img-container">
                            <img class="card-img-top" src="/<%= blogs.image %>" alt="<%= blogs.title %>" />
                        </div>
                        <div class="card-body">
                            <span class="card-category">üè∑Ô∏è <%= blogs.category.replace('-blogs', '' ).replace('-', ' ' )
                                    %></span>
                            <h3 class="card-title">üìù <%= blogs.title %>
                            </h3>
                            <p class="card-text">
                                <%= blogs.about %>
                            </p>
                            <div class="card-footer">
                                <a href="/blog/blog_view/<%= blogs._id %>" class="btn btn-primary">üîó Read More</a>
                                <span class="read-time">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path
                                            d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z" />
                                        <path d="M13 7h-2v6h6v-2h-4z" />
                                    </svg>
                                    <%= blogs.read %> min read
                                </span>
                            </div>
                        </div>
                    </article>
                    <% }) %>
            </div>

            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center">
                    <% if (current> 1) { %>
                        <li class="page-item">
                            <a class="page-link" href="?page=<%= current - 1 %>">‚¨ÖÔ∏è Prev</a>
                        </li>
                        <% } else { %>
                            <li class="page-item disabled">
                                <span class="page-link">‚¨ÖÔ∏è Prev</span>
                            </li>
                            <% } %>

                                <% for (let i=1; i <=pages; i++) { %>
                                    <li class="page-item <%= current === i ? 'active' : '' %>">
                                        <a class="page-link" href="?page=<%= i %>">
                                            <%= i %>
                                        </a>
                                    </li>
                                    <% } %>

                                        <% if (current < pages) { %>
                                            <li class="page-item">
                                                <a class="page-link" href="?page=<%= current + 1 %>">‚û°Ô∏è Next</a>
                                            </li>
                                            <% } else { %>
                                                <li class="page-item disabled">
                                                    <span class="page-link">‚û°Ô∏è Next</span>
                                                </li>
                                                <% } %>
                </ul>
            </nav>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const filterButtons = document.querySelectorAll('.category-btn');
                const blogCards = document.querySelectorAll('.card');
        
                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
        
                        const category = button.dataset.category;
                        window.location.href = `?category=${category}&page=1`;
                    });
                });
            });
        </script>
    </body>

    </html> <%- include("footer")%>