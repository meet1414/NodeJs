<%- include('../header') %>

<div class="page-wrapper">
    <div class="container-fluid">
        <h2 class="mb-4">Edit Blog</h2>

        <div class="card">
            <div class="card-body">
                <form action="/blogs/edit-blog/<%= blog._id %>" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" class="form-control" name="title" value="<%= blog.title %>" required>
                    </div>

                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" name="description" required><%= blog.description %></textarea>
                    </div>

                    <div class="form-group">
                        <label>Author</label>
                        <input type="text" class="form-control" name="author" value="<%= blog.author %>" required>
                    </div>

                    <!-- Category Dropdown -->
                    <div class="form-group">
                        <label>Category</label>
                        <select class="form-control" name="category" required>
                            <% const categories = ["Finance", "Design and Development", "Fashion", "News", "Business", "Technology"]; %>
                            <% categories.forEach(cat => { %>
                                <option value="<%= cat %>" <%= blog.category === cat ? 'selected' : '' %>><%= cat %></option>
                            <% }) %>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Current Image</label>
                        <br>
                        <img src="<%= blog.image %>" width="150" height="100">
                    </div>

                    <div class="form-group">
                        <label>Upload New Image</label>
                        <input type="file" class="form-control" name="image">
                    </div>

                    <button type="submit" class="btn btn-primary">Update Blog</button>
                </form>
            </div>
        </div>
    </div>
</div>

<%- include('../footer') %>
